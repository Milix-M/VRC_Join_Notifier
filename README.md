# VRChat join通知システム
自分がいるワールドにJoinしてきたプレイヤーを通知するシステム。

## 動作環境
Windows10,11(未確認)
Steam版VRChat(Quest版は非対応)
Python 3.9.5以上(.pyで動かす場合)

## 使用方法
main.pyを起動するだけです。
## 指定できるオプション
ウィンドウ上部のメニューバー→設定→環境設定からオプションを設定可能です。使用可能なオプションは以下の通りです。
### 更新頻度(ms)
join通知の更新頻度をミリ秒単位で指定します。値が小さくなるほどCPU負荷が高くなり,ストレージへのアクセスが増えます。
### XSOvelayに送信する
チェックを入れるとXSOverlayに通知を送信します。チェックを入れない場合XSOvelayでの通知はしません。
### Join/Leaveログを.txt形式で書き出す
Join/Leaveログを.txt形式で書き出します。
### Join/Leaveログを.txtファイルから読み込み復元する
「Join/Leaveログを.txt形式で書き出す」機能で生成された.txtファイルを読み込み、メインウィンドウのログ表示エリアに復元します。「Join/Leaveログを.txt形式で書き出す」機能が有効化されていない状態で有効化すると自動的に「Join/Leaveログを.txt形式で書き出す」が有効化されます。
### ワールド移動時に区切りを挿入する
ワールド移動時に区切りをウィンドウのログ表示部分に挿入します。
### タスクトレイに最小化
ウィンドウの「X」を押すとタスクトレイに最小化するようにします。次回の起動から反映されます。
### 最小化した状態で起動
タスクトレイに最小化した状態で起動します。「タスクトレイに最小化」機能が有効化されていない状態で有効化すると自動的に「タスクトレイに最小化」が有効化されます。次回の起動から反映されます。
### Leaveログを表示
メインウィンドウのログ表示エリアにLeaveログも表示します。

## 通知除外設定
ウィンドウ上部のメニューバー→設定→通知除外設定からXSOvelayで通知しないプレイヤーを設定出来ます。自分自身を指定することでXSOvelayの通知から自分を通知しないことも可能です。
入力例:
`Testuser,example,user`
設定内容はconfig.jsonのno_notifysusrに保存されます。

## 仕組み
ユーザーディレクトリ/AppData/LocalLow/VRChat/VRChatディレクトリ内に生成されるログファイルを一行ずつ読み込み,"[Behaviour] OnPlayerJoined [プレイヤー名]"のある行があった場合、プレイヤー名を抜き出して通知しています。

## ライセンス
GPL-2.0でライセンスされています。LICENCEをご覧下さい。